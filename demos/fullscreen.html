<!DOCTYPE html>
<html>
	<head>
		<title>Fullscreen :: Slide.js</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link rel="stylesheet" href="css/style.css" />
		<style>
			html, body {
				width: 100%;
				height: 100%;
			}
			#slideshow {
				background: #222;
				margin: 0;
				padding: 0;
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				text-align: center;
			}
			#slideshow img {
				border: 0 solid red;
				display: block;
				margin: 0 auto;
			}
			#controls {
				background: rgba(0, 0, 0, .5);
				line-height: 1;
				padding: 20px;
				position: absolute;
				bottom: 0;
				left: 0;
				right: 0;
				text-align: center;
			}
			#controls .container {
				display: inline-block;
			}
			#controls a {
				background: url('css/img/controls.png') no-repeat 0 0;
				color: white;
				display: block;
				float: left;
				opacity: 0.5;
				text-indent: -99999px;
				width: 37px;
				height: 21px;
			}
			#controls a:hover {
				opacity: 0.8;
			}
			#controls a#previous {
			}
			#controls a#next {
				background-position: -37px 0;
				margin-left: 20px;
			}
			.clear {
				clear: both;
			}
		</style>
	</head>
	<body>
		<div id="slideshow"></div>
		<div id="controls">
			<div class="container">
				<a href="#" id="previous" onClick="return false;">Previous</a>
				<a href="#" id="next" onClick="return false;">Next</a>
				<div class="clear"></div>
			</div>
		</div>
		<script src="../Slide.js" type="text/javascript"></script>
		<script type="text/javascript">
			var target = document.getElementById('slideshow');

			var slideShow = new Slide.Show(target, {
				playbackSpeed: 4000 // Milliseconds
			});

			slideShow.on('start', function() {
				if (console) console.log('Slideshow starting! Shhhh.');
			});

			slideShow.on('previous', function(obj) {
				if (console) console.log('Previous image [' + obj.index + ', ' + obj + ']');
			});

			slideShow.on('next', function(obj) {
				if (console) console.log('Next image [' + obj.index + ', ' + obj + ']');
			});

			slideShow.on('addItem', function(obj) {
				if (console) console.log('Item added to slideshow [' + obj.index + ', ' + obj + ']');
			});

			slideShow.on('postattach', function(obj) {
				if (console) console.log('After attaching [' + obj.index + ', ' + obj + ']');
				if (Slide.Util.isElement(obj.el)) {
					var i = 0;
					fadeIn();
					function fadeIn() {
						if (i < 1) {
							obj.el.style.opacity = i;
							i += .04;
							setTimeout(fadeIn, 10);
						}
					}
				}
			});

			slideShow.on('predetach', function(obj, detach) {
				if (console) console.log('Before detaching [' + obj.index + ', ' + obj + ']');
				if (Slide.Util.isElement(obj.el)) {
					var i = 1;
					fadeOut();
					function fadeOut() {
						if (i > 0) {
							obj.el.style.opacity = i;
							i -= .04;
							setTimeout(fadeOut, 10);
						} else {
							if (console) console.log('Calling detach in handler [' + obj.index + ', ' + obj + ']');
							detach.func.call(obj, detach.param);
						}
					}
				} else {
					detach.func.call(obj, detach.param);
				}
			});

			slideShow.addItems([
				new Slide.Image("img/Chrysanthemum.jpg"),
				new Slide.Image("img/Desert.jpg"),
				new Slide.HTML('<div>Yeah, HTML!</div>'),
				new Slide.Image("img/Jellyfish.jpg"),
				new Slide.Image("img/Koala.jpg"),
				new Slide.Image("img/Lighthouse.jpg")
			]);

			slideShow.start();
			slideShow.to(4);
			slideShow.play();

			var previous = document.getElementById('previous');
			var next = document.getElementById('next');

			Slide.Util.addEventListener(previous, 'click', function() {
				slideShow.previous();
			});

			Slide.Util.addEventListener(next, 'click', function() {
				slideShow.next();
			});
		</script>
	</body>
</html>
